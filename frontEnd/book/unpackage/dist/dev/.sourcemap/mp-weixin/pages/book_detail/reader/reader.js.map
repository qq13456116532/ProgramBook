{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?124e","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?6d86","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?000d","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?d4d9","uni-app:///pages/book_detail/reader/reader.vue","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?57ad","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/book_detail/reader/reader.vue?2e7a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","sectionNum","maxChapterNum","hours","minutes","readingTime","book","StartReadingtoken","currentGesture","moveTime","isMoving","leftTimmerCount","rightTimmerCount","hasRunTouchMove","allSectionData","loaded","bookid","factionName","headImg","content","factionTitle","windows","windows_height","pxwindows_height","windows_width","pxwindows_width","pixelRatio","touches","lastX","lastY","move_direction","leftValue","pageIndex","maxPageNum","newestSectionNum","allSliderValue","section","bright","font","isShowFontSelector","isUseBrightModel","allFontFamily","currentFontFamily","lineHeight","control","all","control_tab","control_detail","target","colorStyle","content_bg","styleNum","slider_bg","slider_none_bg","control_bg","control_fontColor","isShowMulu","muluSwiperNum","err_tips_show","err_tips_text","onLoad","console","self","title","uni","url","success","onShow","key","fail","onHide","onUnload","methods","countPageNum","splitArray","strArray","totalHeight","getMuluFun","loadChapter","icon","duration","method","setTimeout","Util","handletouchmove","direction","handletouchtart","handletouchend","targetLeftValue","sectionSliderChange","brightSliderChange","fontSliderChange","gotoControlDetail","switchColorStyle","selectFontFamily","closeFontSelector","changeFontFamily","openMulu","getPreMuluPage","getNextMuluPage","muluSwiper","closeMulu","showThisSection"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAksB,CAAgB,kqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACmKttB;AAWA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MAAA;MACAC;MAAA;MACAC;IAAA,yDACA,0DACA;MACAC;MACAC;IACA;EAEA;EACAC;IACAC;IACA;IACA;IACA;IACA;IACAC;IACAA;IACA;IACA;IACA;IACAA;IACAA;IACAnE;MACAoE;IACA;IACAC;MACAC;MACAC;QACAL;QACAC;MACA;IACA;IACA;IACAD;IAEAG;MACAC;MACAC;QACAL;QACAC;QACAA;MACA;IACA;IACAE;MACAC;MACAC;QACAJ;MACA;IACA;IACAA;EACA;EACAK;IACAN;IACA;IACA;IACAlE;MACAyE;MACAF;QACA;QACAJ;QACAA;QACAA;QACAA;QACAA;MACA;IACA;IACA;IACAE;MACAC;MACAI;QACAR;MACA;MACAK;QACA;UACAL;QACA;UACAA;UACAC;QACA;MACA;IACA;EACA;EACA;EACAQ;IACAT;IACA;IACA;IACA;MACA;QACA1B;QAAA;QACAM;QAAA;QACAP;QAAA;QACAF;QAAA;QACAiB;MACA;;MACAtD;IACA;MACAkE;IACA;IACAG;MACAC;MACAI;QACAR;MACA;MACAK;QACAL;MACA;IACA;EAEA;EACAU;IACA;IACAV;IACAG;MACAC;MACAI;QACAR;MACA;MACAK;QACAL;MACA;IACA;EACA;EACAW;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAX;MACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAY;MACA;MACA;MACA;MACAA;MACA;MACA;;MAEAC;QACA;QACA;QACA;QACAC,gFACAjC;MACA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACAkC;MACAhB;;MAEA;MACA;MACA;MACA;MACA;MACAlE;QACAsE;QAAA;QACAC;UACA;YACA;YACA;YACA;YACA;cACA;cACAJ;cACAA;cACA;YACA;cACA;cACA;gBACAA;cACA;gBACAA;cACA;YACA;YACA;YACA;cACAI;YACA;UACA;YACAL;YACA;cACAQ;YACA;UACA;QACA;QACAA;UACAR;UACA;UACA;YACAQ;UACA;QACA;MACA;IACA;IACAS;MACAjB;MACA;MACAlE;QACAoE;QACAgB;QACAC;MACA;MACA;MACA;MACA;MACArF;QACAsE;QACAgB;QACAf;UACA;YACAL;YACA;YACA;YACA;YACA;YACA,8EACAlB,8EACAtB;YACA;YACAyC;YACAA;YACAA;YACAA;cACA1B;cACAC;cACAC;YACA;YACA3C;YACAuF;cACApB;YACA;UACA;YACAnE;YACAkE;YACAsB;UACA;QACA;QACAd;UACA1E;UACAwF;UACAtB;QACA;MACA;IACA;IACAuB;MACAvB;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACAC;MACAD;MACA;MACA;QACAwB;MACA;QACAA;MACA;MACA;MACA;MACA;MACAvB;QACAlC;QACAC;MACA;MACAiC;MACA;MACA;QACA;UACAA;QACA;MACA;QACA;UACAA;QACA;MACA;IACA;IACAwB;MACAzB;MAEA;MACA;MACAC;MACA;MACA;QACAA;UACAlC;UACAC;QACA;MACA;IACA;IACA0D;MACA;MACA1B;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;UACAC;YACAjB;YACAC;YACAC;YACAC;UACA;UACAc;UACA;QACA;MACA;MACAA;MACA;MACA;MACA;MACA;MACA;QACA;UACA;YACA0B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA1B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACAA;UACA;YACA;YACAD;YACAG;cACAC;cACAC;gBACAL;gBACA;gBACAA;gBACA;gBACA;gBACA,8EACAlB,8EACAtB;gBACAyC;gBACAA;gBACAA;gBACAA;kBACA1B;kBACAC;kBACAC;gBACA;gBACA;gBACA;;gBAGAwB;gBACAA;cACA;YAEA;UAEA;QACA;UACA;UACA;YACA0B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA1B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACAA;UACA;QACA;MACA;IACA;IACA2B;MACA5B;MACA;MACAC;QACA1B;QACAC;QACAC;MACA;IACA;IACAoD;MACA7B;MAEA;MACAC;QACA1B;QACAC;QACAC;MACA;MACA;MACA;QACA3C;UACAoE;UACA5C;UACA+C;YACA;cACAJ;cACAA;gBACAZ;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;cACA;YACA;UACA;QACA;MACA;IACA;IACAoC;MACA9B;MAEA;MACAC;QACA1B;QACAC;QACAC;MACA;MACA;MACA,mGACAb;MACAoC;MACAC;IAEA;IACA8B;MACA/B;MAEA;MACA;MACA;MACA;MACA;QACA;QACAd;MACA;QACA;UACAA;QACA;UACAA;QACA;MACA;MACAe;QACAjB;QACAC;QACAC;QACAC;MACA;IACA;;IACA;IACA6C;MACAhC;MAEA;MACA;MACA;QACA;UACAC;YACAZ;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACAO;YACAZ;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACAO;YACAZ;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;QACA;UACAO;YACAZ;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UACA;MAAA;IAEA;IACAuC;MACAjC;MAEA;IACA;IACAkC;MACAlC;MAEA;IACA;IACAmC;MACAnC;MAEA;MACA;IACA;;IACA;IACAoC;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;QACAnC;QACA;MACA;;MACA;QACAnE;UACAoE;UACAgB;QACA;MACA;MACAjB;IACA;IACA;IACAoC;MACArC;MAEA;MACA;MACA;MACA5D;MACA;MACA;QACA4D;MACA;MACA;QACAsB;MACA;MACArB;IACA;IACA;IACAqC;MACAtC;MAEA;MACA;MACA;MACA5D;MACA;MACA;QACA4D;MACA;MACA;QACAsB;MACA;MACArB;IACA;IACA;IACAsC;MACAvC;MACA;MACA;MACAC;IACA;IACAuC;MACA;;MAEA;IACA;IACA;IACAC;MACAzC;MACA;MACAlE;QACAoE;QACAgB;QACAC;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAEArF;QACAsE;QACAgB;QACAf;UACA;YACA;YACAL;YACA;YACA;YACA,8EACAlB,8EACAtB;YACAyC;YACAA;YACAA;YACAA;cACA1B;cACAC;cACAC;YACA;YACA;YACA;;YAGAwB;YACAA;YACAnE;YACAmE;UACA;YACA;YACAnE;YACAwF;UACA;UACAxF;QACA;QACA0E;UACA1E;UACAwF;UACAtB;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACv8BA;AAAA;AAAA;AAAA;AAA2/B,CAAgB,26BAAG,EAAC,C;;;;;;;;;;;ACA/gC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/book_detail/reader/reader.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/book_detail/reader/reader.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./reader.vue?vue&type=template&id=4841703e&\"\nvar renderjs\nimport script from \"./reader.vue?vue&type=script&lang=js&\"\nexport * from \"./reader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/book_detail/reader/reader.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reader.vue?vue&type=template&id=4841703e&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reader.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view  class=\"reader-container\">\r\n\t\t\t<view :class=\"'content' + (loaded ? ' loaded' : ' ') \" \r\n\t\t\t\t:style=\"'width:' + (maxPageNum*100) +'%;' + ' -webkit-column-count:'+ maxPageNum+ ';' + 'column-count:'+ maxPageNum + ';' + 'left:' + leftValue +'rpx;' + 'background-color:' + (isUseBrightModel== 0?colorStyle.content_bg: 'transparent') + ';font-family:' +  currentFontFamily+ ';font-size:'+ allSliderValue.font+'rpx;'\"\r\n\t\t\t\t@touchstart=\"handletouchtart\" @touchmove=\"handletouchmove\" @touchend=\"handletouchend\">\r\n\t\t\t\t<view :style=\"'line-height:'+lineHeight +'rpx;'\"> <!-- 'height:'+windows.windows_height-1 + 'rpx;'+  -->\r\n\t\t\t\t\t<!-- <text  :style=\"'color:'+ (colorStyle.styleNum == '4'? '#85898c': '#000800')\">\r\n\t\t\t\t{{content}}</text> -->\r\n\t\t\t\t<rich-text :nodes=\"content\"></rich-text>\r\n\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <p v-html=\"content\"></p> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cover\" :style=\"'background-color: rgba(0, 0, 0,'+(1-allSliderValue.bright/100)+')'\"></view>\r\n\t\t\t<view class=\"control\"\r\n\t\t\t\t:style=\"'width:'+windows.windows_width+'rpx;display:'+((control.control_tab == 1 && control.all == 1)? 'flex': 'none')+';background-color:'+colorStyle.control_bg+';'\">\r\n\t\t\t\t<view class=\"control-item\" data-control=\"mulu\" @tap=\"openMulu\">\r\n\t\t\t\t\t<icon :class=\"'iconfont  mymulu'+colorStyle.styleNum+'-icon'\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"control-item\" data-control=\"jingdu\" @tap=\"gotoControlDetail\">\r\n\t\t\t\t\t<icon\r\n\t\t\t\t\t\t:class=\"(control.target == 'jingdu')? ('iconfont myjingdu'+colorStyle.styleNum+'-select-icon'): ('iconfont myjingdu'+colorStyle.styleNum+'-icon')\">\r\n\t\t\t\t\t</icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"control-item\" data-control=\"color\" @tap=\"gotoControlDetail\">\r\n\t\t\t\t\t<icon\r\n\t\t\t\t\t\t:class=\"(control.target == 'color')? ('iconfont myday'+colorStyle.styleNum+'-select-icon'): ('iconfont myday'+colorStyle.styleNum+'-icon')\">\r\n\t\t\t\t\t</icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"control-item\" data-control=\"font\" @tap=\"gotoControlDetail\">\r\n\t\t\t\t\t<icon :class=\"'iconfont myfont'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 从这里开始-->\r\n\t\t\t<view class=\"control-detail\"\r\n\t\t\t\t:style=\"'display:'+((control.control_detail == 1 && control.all == 1)? 'block': 'none') + ';background-color:'+colorStyle.control_bg\">\r\n\t\t\t\t<view class=\"jingdu-detail\" :style=\"'display:'+(control.target == 'jingdu'? 'block': 'none')\">\r\n\t\t\t\t\t<view class=\"jingdu\">\r\n\t\t\t\t\t\t<icon :class=\"'rleft'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t\t\t<view class=\"nameAndNum\">\r\n\t\t\t\t\t\t\t<text class=\"faction\"\r\n\t\t\t\t\t\t\t\t:style=\"'color:'+(colorStyle.styleNum == '4'? '#85898c': '#000800')\">{{book.factionName}}\\n</text>\r\n\t\t\t\t\t\t\t<text class=\"jingdu-num\">第{{allSliderValue.section}}章{{' 共'+maxChapterNum}}章</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<icon :class=\"'rright'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<slider disabled=\"true\" @change=\"sectionSliderChange\" :selected-color=\"colorStyle.slider_bg\" min=\"1\"\r\n\t\t\t\t\t\t:max=\"maxChapterNum\" :value=\"allSliderValue.section\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"color-detail\" :style=\"'display:'+(control.target == 'color'? 'block': 'none')\">\r\n\t\t\t\t\t<view class=\"brightness\">\r\n\t\t\t\t\t\t<icon :class=\"'day'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t\t\t<slider class=\"bright-slider\" @change=\"brightSliderChange\"\r\n\t\t\t\t\t\t\t:selected-color=\"colorStyle.slider_bg\" min=\"0\" max=\"100\" :value=\"allSliderValue.bright\" />\r\n\t\t\t\t\t\t<icon :class=\"'day'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"color-select\">\r\n\t\t\t\t\t\t<view class=\"color-item white-bg\"\r\n\t\t\t\t\t\t\t:style=\"'border:'+(colorStyle.styleNum == 1? '1px solid #b0d5b4': 'none')\" data-stylenum=\"1\"\r\n\t\t\t\t\t\t\t@tap=\"switchColorStyle\"></view>\r\n\t\t\t\t\t\t<view class=\"color-item pink-bg\"\r\n\t\t\t\t\t\t\t:style=\"'border:'+(colorStyle.styleNum == '2'? '1px solid #b0d5b4': 'none')\" data-stylenum=\"2\"\r\n\t\t\t\t\t\t\t@tap=\"switchColorStyle\"></view>\r\n\t\t\t\t\t\t<view class=\"color-item green-bg\"\r\n\t\t\t\t\t\t\t:style=\"'border:'+(colorStyle.styleNum == '3'? '1px solid #b0d5b4': 'none')\" data-stylenum=\"3\"\r\n\t\t\t\t\t\t\t@tap=\"switchColorStyle\"></view>\r\n\t\t\t\t\t\t<view class=\"color-item back-bg\" data-stylenum=\"4\" @tap=\"switchColorStyle\">\r\n\t\t\t\t\t\t\t<icon class=\"yueliang-icon\"></icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"font-detail\" :style=\"'display:'+ (control.target == 'font'? 'block': 'none')\">\r\n\t\t\t\t\t<view class=\"fontSize\">\r\n\t\t\t\t\t\t<icon :class=\"'font'+colorStyle.styleNum+'-icon' + ' small'\"></icon>\r\n\t\t\t\t\t\t<slider class=\"font-slider\" @change=\"fontSliderChange\" :selected-color=\"colorStyle.slider_bg\"\r\n\t\t\t\t\t\t\tmin=\"24\" max=\"40\" step=\"2\" :value=\"allSliderValue.font\" />\r\n\t\t\t\t\t\t<icon :class=\"'font'+colorStyle.styleNum+'-icon'\"></icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"fontSelector\" @tap=\"selectFontFamily\">\r\n\t\t\t\t\t\t<text>{{currentFontFamily}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"fontDetail\" :style=\"'background-color: '+ colorStyle.control_bg\"\r\n\t\t\t\t\t\t:hidden=\"isShowFontSelector == 0\">\r\n\t\t\t\t\t\t<view class=\"font-title\">\r\n\t\t\t\t\t\t\t<icon :class=\"'leftFont'+colorStyle.styleNum+'-icon'\" @tap=\"closeFontSelector\"></icon><text\r\n\t\t\t\t\t\t\t\t:style=\"'color:'+ (colorStyle.styleNum == '4'? '#63676a': '#655f4f')\">选择字体</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"allItem\">\r\n\t\t\t\t\t\t\t<view class=\"font-item\" v-for=\"item in allFontFamily\" :key=\"item.fontname\"\r\n\t\t\t\t\t\t\t\t:data-fontname=\"item\" @tap=\"changeFontFamily\">\r\n\t\t\t\t\t\t\t\t<text class=\"fontName\"\r\n\t\t\t\t\t\t\t\t\t:style=\"'color:'+ (currentFontFamily == item? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\">{{item}}</text>\r\n\t\t\t\t\t\t\t\t<icon :type=\"currentFontFamily == item? 'success_no_circle': ''\" size=\"12\"\r\n\t\t\t\t\t\t\t\t\t:color=\"colorStyle.control_fontColor\"></icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--到这里结束-->\r\n\t\t\t<view :class=\"'mulu-detail ' + (isShowMulu == 1? 'active': '')\" @tap=\"closeMulu\">\r\n\t\t\t\t<view class=\"muluPanel\" :style=\"'background-color: '+ colorStyle.content_bg\">\r\n\t\t\t\t\t<swiper class=\"mulu-swipers\" :current=\"muluSwiperNum\" @change=\"muluSwiper\">\r\n\t\t\t\t\t\t<swiper-item class=\"mulu-swiper\">\r\n\t\t\t\t\t\t\t<view class=\"search\">\r\n\t\t\t\t\t\t\t\t<icon type=\"search\" size=\"15\" color=\"#ccc\" />\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"muluStr\" placeholder=\"搜索全书内容\" placeholder-class=\"muluPl\"\r\n\t\t\t\t\t\t\t\t\t@confirm=\"doContentSearch\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"bookInfo\"\r\n\t\t\t\t\t\t\t\t:style=\"'color:'+(item.sectionNum == allSliderValue.section? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\">\r\n\t\t\t\t\t\t\t\t<image :src=\"headImg\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t\t\t<text class=\"book\"><text class=\"factionName\">{{factionName}}</text><text\r\n\t\t\t\t\t\t\t\t\t\tclass=\"author\">{{book.author}}</text></text>\r\n\t\t\t\t\t\t\t\t<text class=\"readerTime\"><text class=\"num\">{{hours}}</text>时<text class=\"num\">{{minutes}}</text>分<text\r\n\t\t\t\t\t\t\t\t\t\tclass=\"timeDes\">读书时长</text></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<scroll-view class=\"sections\" scroll-x=\"false\" scroll-y=\"true\" upper-threshold=\"50\"\r\n\t\t\t\t\t\t\t\t   lower-threshold=\"50\" scroll-top=\"\" scroll-left=\"\" scroll-into-view=\"\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"item in allSectionData\" class=\"section\"\r\n\t\t\t\t\t\t\t\t\t:style=\"'color:'+ (item.sectionNum == allSliderValue.section? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\"\r\n\t\t\t\t\t\t\t\t\t:key=\"item.sectionId\" :data-sectionid=\"item.sectionId\"\r\n\t\t\t\t\t\t\t\t\t:data-sectionnum=\"item.sectionNum\" @tap=\"showThisSection\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"factionNum\">第{{item.sectionNum}}章</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"factionName\">{{item.sectionTitle}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t<swiper-item class=\"shuqian-swiper\">\r\n\t\t\t\t\t\t\t目录\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\t<swiper-item class=\"huaxian-swiper\">\r\n\t\t\t\t\t\t\t划线\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t\t<view class=\"bottomCtr\">\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t:style=\"'color:'+ (muluSwiperNum == 0? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\">目录</text>\r\n\t\t\t\t\t\t<!-- {{muluSwiperNum}}和一个{{colorStyle.control_fontColor}}再和{{colorStyle.styleNum}} -->\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t:style=\"'color:'+(muluSwiperNum == 1? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\">书签</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t:style=\"'color:'+(muluSwiperNum == 2? colorStyle.control_fontColor: (colorStyle.styleNum == '4'? '#63676a': '#655f4f'))\">划线</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 出错打印 -->\r\n\t\t<!-- <import src=\"../../component/err_tips/err_tips.wxml\" />\r\n\t\t<template is=\"err_tips\" data=\"{{err_tips_data}}\" /> -->\r\n\r\n\t\t<!-- 成功的提示 -->\r\n\t\t<!-- <import src=\"../../component/toast/toast.wxml\" />\r\n\t\t<template is=\"toast\" data=\"{{toast_data}}\" /> -->\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tGetendReading,\r\n\t\tGetStartReading,\r\n\t\tgetMulu,\r\n\t\tgetContentById,\r\n\t\tgetContentByHistory,\r\n\t\tgetBookDetail,\r\n\t\tgetOneBookReadingTime,\r\n\t\tgetmaxChapterNum,\n\t\tgetChapterByNumAndBookId\r\n\t} from '../../../utils/api/api';\r\n\timport Util from '../../../utils/util';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsectionNum: 1,\r\n\t\t\t\tmaxChapterNum: 0,\r\n\t\t\t\thours: 0,\r\n\t\t\t\tminutes:0,\r\n\t\t\t\treadingTime: 0,\r\n\t\t\t\tbook: null,\r\n\t\t\t\tStartReadingtoken: \"\",\t\t\t\t\r\n\t\t\t\tcurrentGesture: 0, //控制当一个手势进行的时候屏蔽其他的手势\r\n\t\t\t\tmoveTime: null, //控制左滑右滑的动画\r\n\t\t\t\tisMoving: 0,\r\n\t\t\t\tleftTimmerCount: 0,\r\n\t\t\t\trightTimmerCount: 0,\r\n\t\t\t\thasRunTouchMove: false,\r\n\t\t\t\tallSectionData: null,\r\n\t\t\t\tloaded: false,\r\n\t\t\t\tbookid: '',\r\n\t\t\t\tfactionName: '',\r\n\t\t\t\theadImg: '', // 小说图像\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tfactionTitle: '八部浮屠',\r\n\t\t\t\twindows: {\r\n\t\t\t\t\twindows_height: 0,\r\n\t\t\t\t\tpxwindows_height:0,\r\n\t\t\t\t\twindows_width: 0,\r\n\t\t\t\t\tpxwindows_width:0,\r\n\t\t\t\t\tpixelRatio: 1\r\n\t\t\t\t},\r\n\t\t\t\ttouches: {\r\n\t\t\t\t\tlastX: 0,\r\n\t\t\t\t\tlastY: 0\r\n\t\t\t\t},\r\n\t\t\t\tmove_direction: 0, //0代表左滑动，1代表右滑动\r\n\t\t\t\tleftValue: 0,\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tmaxPageNum: 0,\r\n\t\t\t\tnewestSectionNum: 1450,\r\n\t\t\t\tallSliderValue: {\r\n\t\t\t\t\tsection: 1431,\r\n\t\t\t\t\tbright: 80,\r\n\t\t\t\t\tfont: 40\r\n\t\t\t\t}, //font单位rpx\r\n\t\t\t\tisShowFontSelector: 0, //是否显示选择字体详情板块\r\n\t\t\t\tisUseBrightModel: 0,\r\n\t\t\t\tallFontFamily: ['微软雅黑', '黑体', 'Arial', '楷体', '等线'],\r\n\t\t\t\tcurrentFontFamily: '等线',\r\n\t\t\t\tlineHeight: 50, //单位rpx\r\n\t\t\t\tcontrol: {\r\n\t\t\t\t\tall: 0,\r\n\t\t\t\t\tcontrol_tab: 0,\r\n\t\t\t\t\tcontrol_detail: 0,\r\n\t\t\t\t\ttarget: ''\r\n\t\t\t\t}, //all表示整个控制是否显示，第一点击显示，再一次点击不显示;target表示显示哪一个detail\r\n\t\t\t\tcolorStyle: {\r\n\t\t\t\t\tcontent_bg: '#f5f9fc',\r\n\t\t\t\t\tstyleNum: 1,\r\n\t\t\t\t\tslider_bg: '#fd9941',\r\n\t\t\t\t\tslider_none_bg: '#dbdbdb',\r\n\t\t\t\t\tcontrol_bg: '#ffffff',\r\n\t\t\t\t\tcontrol_fontColor: '#fd9941'\r\n\t\t\t\t}, //1、2、3、4分别对应四种颜色模式\r\n\t\t\t\tisShowMulu: 0, // 是否显示左侧栏\r\n\t\t\t\tmuluSwiperNum: 0, //目录的滑块显示第几块\r\n\t\t\t\tallSectionData: [], // 所有章节数据\r\n\t\t\t\terr_tips_data: {\r\n\t\t\t\t\terr_tips_show: false,\r\n\t\t\t\t\terr_tips_text: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\tconsole.log(\"在执行onLoad打印一下options\",options)\r\n\t\t\tvar self = this;\r\n\t\t\tlet getWindowInfo = uni.getWindowInfo()\r\n\t\t\t// console.log(getWindowInfo.screenHeight);//屏幕高度\r\n\t\t\t// console.log(getWindowInfo.screenWidth);//屏幕宽度\r\n\t\t\tself.windows.pxwindows_width = getWindowInfo.screenWidth\r\n\t\t\tself.windows.pxwindows_height = getWindowInfo.screenHeight\r\n\t\t\t//动态设置标题\r\n\t\t\tvar factionName = options.name || '超品战兵';\r\n\t\t\tvar bookid = options.bookid;\r\n\t\t\tself.bookid = bookid\r\n\t\t\tself.factionName = factionName\r\n\t\t\twx.setNavigationBarTitle({\r\n\t\t\t\ttitle: factionName\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl:getBookDetail(self.bookid),\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconsole.log(\"getBookDetail的res是\",res)\r\n\t\t\t\t\tself.book = res.data.data\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tvar token= uni.getStorageSync(\"token\")\r\n\t\t\tconsole.log(\"onload这里拿到的token\",token)\r\n\t\t\t\r\n\t\t\tuni.request({\r\n\t\t\t\turl: getOneBookReadingTime(token,self.bookid),\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconsole.log(\"getOneBookReadingTime的res是\",res)\r\n\t\t\t\t\tself.hours = res.data.data.hours\r\n\t\t\t\t\tself.minutes = res.data.data.minutes\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tuni.request({\r\n\t\t\t\turl:getmaxChapterNum(self.bookid),\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\tself.maxChapterNum = res.data.data\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tself.loadChapter(bookid);\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log(\"在执行onshow\")\r\n\t\t\tvar self = this;\r\n\t\t\t//读取用户设置\r\n\t\t\twx.getStorage({\r\n\t\t\t\tkey: 'reader_setting',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tvar userSetting = JSON.parse(res.data);\r\n\t\t\t\t\tself.allSliderValue = userSetting.allSliderValue || self.allSliderValue\r\n\t\t\t\t\tself.allFontFamily = userSetting.allFontFamily || self.allFontFamily\r\n\t\t\t\t\tself.newestSectionNum = userSetting.newestSectionNum || self.newestSectionNum\r\n\t\t\t\t\tself.pageIndex = userSetting.pageIndex || self.pageIndex\r\n\t\t\t\t\tself.colorStyle = userSetting.colorStyle || self.colorStyle\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tvar token= uni.getStorageSync(\"token\")\r\n\t\t\tuni.request({\r\n\t\t\t\turl:GetStartReading(token,self.bookid),\r\n\t\t\t\tfail(e) {\r\n\t\t\t\t\tconsole.log(\"GetStartReading失败\",e)\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tif(e.data.code!=200){\r\n\t\t\t\t\t\tconsole.log(\"GetStartReading失败了\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(\"GetStartReading成功\",e)\r\n\t\t\t\t\t\tself.StartReadingtoken = e.data.data\r\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t//跳出页面执行函数\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log(\"在执行onHide\")\t\t\t\r\n\t\t\tvar self = this;\r\n\t\t\t//onUnload方法在页面被关闭时触发，我们需要将用户的当前设置存下来\r\n\t\t\ttry {\r\n\t\t\t\tvar userSetting = {\r\n\t\t\t\t\tallSliderValue: self.allSliderValue, // 控制当前章节，亮度，字体大小\r\n\t\t\t\t\tallFontFamily: self.allFontFamily, // 已经存在的字体列表\r\n\t\t\t\t\tnewestSectionNum: self.newestSectionNum, // 当前小说的最新章节\r\n\t\t\t\t\tpageIndex: self.pageIndex, // 当前第几页\r\n\t\t\t\t\tcolorStyle: self.colorStyle //当前的主题\r\n\t\t\t\t};\r\n\t\t\t\twx.setStorage('reader_setting', JSON.stringify(userSetting));\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t}\r\n\t\t\tuni.request({\r\n\t\t\t\turl:GetendReading(self.StartReadingtoken),\r\n\t\t\t\tfail(e) {\r\n\t\t\t\t\tconsole.log(\"GetendReading失败\",e)\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tconsole.log(\"GetendReading成功\",e)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\tonUnload(){\r\n\t\t\tvar self = this;\t\t\t\r\n\t\t\tconsole.log(\"在执行onUnload\")\t\r\n\t\t\tuni.request({\r\n\t\t\t\turl:GetendReading(self.StartReadingtoken),\r\n\t\t\t\tfail(e) {\r\n\t\t\t\t\tconsole.log(\"GetendReading失败\",e)\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(e) {\r\n\t\t\t\t\tconsole.log(\"GetendReading成功\",e)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t/**\r\n\t\t\t * 计算总页数函数，需要理解行高---line-height和字体大小font-size之间的关系，可以查考http://www.jianshu.com/p/f1019737e155，以及http://www.w3school.com.cn/cssref/pr_dim_line-height.asp\r\n\t\t\t * @param str 需要分页的内容\r\n\t\t\t * @param fontSize 当前的字体大小\r\n\t\t\t * @param lineHeight 当前的行高\r\n\t\t\t * @param windowW 当前window的宽度\r\n\t\t\t * @param windowH 当前window的高度\r\n\t\t\t * @param pixelRatio 当前分辨率，用来将rpx转换成px\r\n\t\t\t */\r\n\t\t\tcountPageNum(str, fontSize, lineHeight, windowW, windowH, pixelRatio) {\r\n\t\t\t\tvar self = this\r\n\t\t\t\t// console.log(\"在执行countPageNum\")\r\n\t\t\t\t// console.log(\"fontSize是\",fontSize)//32\r\n\t\t\t\t// console.log(\"lineHeight是\",lineHeight)//36\r\n\t\t\t\t// console.log(\"windowW是\",windowW)//320px\r\n\t\t\t\t// console.log(\"windowH是\",windowH)//568px\r\n\t\t\t\t// var onePxToRpx = 750 / windowW;\r\n\t\t\t\tvar myWidth = 750 ; //750rpx\r\n\t\t\t\tvar myHeight = windowH/windowW * myWidth; //??rpx\r\n\t\t\t\t// console.log(\"pixelRatio是\",pixelRatio)//1\r\n\t\t\t\tself.windows.windows_height = myHeight\r\n\t\t\t\tself.windows.windows_width = myWidth\r\n\t\t\t\tvar returnNum = 0;\r\n\t\t\t    // fontSize = fontSize / pixelRatio;//32\r\n\t\t\t\t// lineHeight = lineHeight / pixelRatio;//36\r\n\t\t\t\t//将str根据’\\n‘截成数组\r\n\t\t\t\tvar strArray = str.split(/\\n+/);//119\r\n\t\t\t\t// console.log(\"strArray长度\",strArray.length)\r\n\t\t\t\t// console.log('strArray的值：',strArray)\r\n\t\t\t\tvar splitArray = [];\r\n\t\t\t\tvar reg = new RegExp('\\n+', 'igm');\r\n\t\t\t\tvar result = '';\r\n\t\t\t\t//这里写一个for循环去记录每处分隔符的\\n的个数，这将会影响到计算换行的高度\r\n\t\t\t\twhile ((result = reg.exec(str)) != null) {\r\n\t\t\t \tsplitArray.push(result.toString().match(/\\n/gim).length);\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(\"splitArray是\",splitArray)\r\n\t\t\t\t//spliArray比strArray少一，这里加一项使之数量一样\r\n\t\t\t\tsplitArray.push(0);\r\n\t\t\t\tvar totalHeight = 0;\r\n\t\t\t\t// console.log(\"一行装多少字\",Math.floor((myWidth  ) / fontSize))\r\n\t\t\t\t\r\n\t\t\t    strArray.forEach(function(item, index) {\r\n\t\t\t\t\t//拒绝最后一项0\r\n\t\t\t\t\tvar huanhangNum = (splitArray[index] -1 > 0) ? (splitArray[index] -1 )>0: 0;\r\n\t\t\t\t\t// console.log(\"item的length\",item.length)\r\n\t\t\t\t\ttotalHeight += (Math.ceil(item.length / Math.floor((myWidth-80) / fontSize)) *\r\n\t\t\t\t\t\tlineHeight + huanhangNum * lineHeight);\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(\"totalHeight,\",totalHeight)\r\n\t\t\t\t// console.log(\"totalHeight / myHeight\",totalHeight / myHeight)\r\n\t\t\t\treturn Math.ceil(totalHeight / myHeight)  ;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 发送获取目录请求的方法\r\n\t\t\t * @param bookid 书籍的id\r\n\t\t\t * @param sectionnum 小说的当前章节\r\n\t\t\t * @param obj 操作的对象\r\n\t\t\t * @param success 接口完成的回调\r\n\t\t\t * @param fail 接口失败的回调\r\n\t\t\t * @param preOrNext 是向前翻页还是向后翻页\r\n\t\t\t */\r\n\t\t\tgetMuluFun(bookid, sectionnum, obj, success, fail, preOrNext) {\r\n\t\t\t\tconsole.log(\"在执行getMuluFun\")\r\n\r\n\t\t\t\t// console.log(\"看一下obj\",obj)\r\n\t\t\t\t//obj是self\r\n\t\t\t\tvar self = this\r\n\t\t\t\t//发送ajax得到这本小说的所有章节\r\n\t\t\t\tvar oldSectionData = obj.allSectionData;\r\n\t\t\t\twx.request({\r\n\t\t\t\t\turl: getMulu(bookid, sectionnum), //仅为示例，并非真实的接口地址\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar tmpData = res.data.data;\r\n\t\t\t\t\t\t\t// console.log(\"看一下tmpdATA:\", tmpData)\r\n\t\t\t\t\t\t\t//allSectionData像是一个队列，并不是一直加上接口获取的新数据，有一个最大值，当超过这个最大值，会在首尾删减多于的值\r\n\t\t\t\t\t\t\tif (oldSectionData.length == 0) {\r\n\t\t\t\t\t\t\t\t// console.log(\"原来数据是0\")\r\n\t\t\t\t\t\t\t\tself.allSectionData = tmpData.sectionArray\r\n\t\t\t\t\t\t\t\tself.headImg = tmpData.headImg\r\n\t\t\t\t\t\t\t\t// console.log(\"现在的self.allSectionData\",self.allSectionData)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//如果是向前翻页，数据应该插到顶部\r\n\t\t\t\t\t\t\t\tif (preOrNext == 'pre') {\r\n\t\t\t\t\t\t\t\t\tself.allSectionData = tmpData.sectionArray.concat(oldSectionData)\r\n\t\t\t\t\t\t\t\t} else if (preOrNext == 'next') {\r\n\t\t\t\t\t\t\t\t\tself.allSectionData = oldSectionData.concat(tmpData.sectionArray)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//处理回调\r\n\t\t\t\t\t\t\tif (typeof success == 'function') {\r\n\t\t\t\t\t\t\t\tsuccess(obj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\tif (typeof fail == 'function') {\r\n\t\t\t\t\t\t\t\tfail(obj);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t//处理回调\r\n\t\t\t\t\t\tif (typeof fail == 'function') {\r\n\t\t\t\t\t\t\tfail(obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tloadChapter(bookid) {\r\n\t\t\t\tconsole.log(\"在执行loadChapter\")\r\n\t\t\t\t//显示loading\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: '内容加载中',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 100\r\n\t\t\t\t});\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar token = wx.getStorageSync('token');\r\n\t\t\t\t//根据章节id去得到章节内容\r\n\t\t\t\twx.request({\r\n\t\t\t\t\turl: getContentByHistory(token, self.bookid),\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconsole.log(\"执行loadChapter，结果\",res)\r\n\t\t\t\t\t\t\tvar tmpData = res.data.data;\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar newContent = tmpData.content;\r\n\t\t\t\t\t\t\tvar sectionNum = tmpData.num;\r\n\t\t\t\t\t\t\t// //重新排版\r\n\t\t\t\t\t\t\tvar maxPageNum = self.countPageNum(newContent, self.allSliderValue.font, self\r\n\t\t\t\t\t\t\t\t.lineHeight, self.windows.pxwindows_width, self.windows.pxwindows_height, self\r\n\t\t\t\t\t\t\t\t.windows.pixelRatio);\r\n\t\t\t\t\t\t\t\t// console.log(\"maxPageNum,\",maxPageNum)\r\n\t\t\t\t\t\t\tself.content = newContent\r\n\t\t\t\t\t\t\tself.maxPageNum = maxPageNum\r\n\t\t\t\t\t\t\tself.sectionNum = sectionNum\r\n\t\t\t\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\t\t\t\tsection: sectionNum,\r\n\t\t\t\t\t\t\t\tbright: self.allSliderValue.bright,\r\n\t\t\t\t\t\t\t\tfont: self.allSliderValue.font,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tself.loaded = true\r\n\t\t\t  \t\t}, 300);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\tUtil.showErrMsg(self, '获取章节内容失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t\tUtil.showErrMsg(self, '获取章节内容失败');\r\n\t\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandletouchmove: function(event) {\r\n\t\t\t\tconsole.log('正在执行handletouchmove, event为：', event);\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tif (self.currentGesture != 0 || self.isMoving == 1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar currentX = event.touches[0].pageX;\r\n\t\t\t\tvar currentY = event.touches[0].pageY;\r\n\t\t\t\t// 判断用没有滑动而是点击屏幕的动作\r\n\t\t\t\tself.hasRunTouchMove = true;\r\n\t\t\t\tconsole.log('正在执行touchmove, isMoving为：' + self.isMoving + '------event: {x: ' + event.touches[0].pageX + ' ,y: ' + event.touches[0].pageY + '}');\r\n\t\t\t\tvar direction = 0;\r\n\t\t\t\tif (currentX - self.touches.lastX < 0) {\r\n\t\t\t\t\tdirection = 0;\r\n\t\t\t\t} else if (currentX - self.touches.lastX > 0) {\r\n\t\t\t\t\tdirection = 1;\r\n\t\t\t\t}\r\n\t\t\t\t//需要减少或者增加的值\r\n\t\t\t\tvar moreOrLessValue = Math.abs(currentX - self.touches.lastX);\r\n\t\t\t\t//将当前坐标进行保存以进行下一次计算\r\n\t\t\t\tself.touches = {\r\n\t\t\t\t\tlastX: currentX,\r\n\t\t\t\t\tlastY: currentY\r\n\t\t\t\t}\r\n\t\t\t\tself.move_direction = direction\r\n\t\t\t\tvar currentIndex = self.pageIndex;\r\n\t\t\t\tif (direction == 0) {\r\n\t\t\t\t\tif (currentIndex < self.maxPageNum) {\r\n\t\t\t\t\t\tself.leftValue = self.leftValue - moreOrLessValue\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t  if (currentIndex > 1) {\r\n\t\t\t\t\t\tself.leftValue = self.leftValue + moreOrLessValue\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandletouchtart: function(event) {\r\n\t\t\t\tconsole.log('正在执行handletouchtart, event为：', event);\r\n\r\n\t\t\t\tvar self = this\r\n\t\t\t\t// 判断用户的点击事件，如果不是滑动，将不会执行touchmove\r\n\t\t\t\tself.hasRunTouchMove = false;\r\n\t\t\t\t// console.log('正在执行touchtart, isMoving为：'+isMoving+'------event: {x: '+event.touches[0].pageX+' ,y: '+event.touches[0].pageY+'}');\r\n\t\t\t\tif (self.isMoving == 0) {\r\n\t\t\t\t\tself.touches = {\r\n\t\t\t\t\t\tlastX: event.touches[0].pageX,\r\n\t\t\t\t\t\tlastY: event.touches[0].pageY\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandletouchend: function() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tconsole.log('正在执行handletouchend, isMoving为：' + this.isMoving+\", hasRunTouchMove为：\"+self.hasRunTouchMove);\r\n\t\t\t\t// 判断用户的点击事件，决定是否显示控制栏\r\n\t\t\t\tif (self.hasRunTouchMove == false) {\r\n\t\t\t\t\tvar y = self.touches.lastY;\r\n\t\t\t\t\tvar x = self.touches.lastX;\r\n\t\t\t\t\tvar h = self.windows.pxwindows_height / 2;\r\n\t\t\t\t\tvar w = self.windows.pxwindows_width / 2;\r\n\t\t\t\t\t// console.log(\"x:\"+x+\",y:\"+y+\",h:\"+h+\",w:\"+w)\r\n\t\t\t\t\tif (x && y && y >= h - 80 && y <= h + 80 && x >= w - 80 && x <= w + 80) {\r\n\t\t\t\t\t\tself.control = {\r\n\t\t\t\t\t\t\tall: self.control.all == 0 ? 1 : 0,\r\n\t\t\t\t\t\t\tcontrol_tab: 1,\r\n\t\t\t\t\t\t\tcontrol_detail: 0,\r\n\t\t\t\t\t\t\ttarget: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.isShowFontSelector = 0\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.currentGesture = 0;\r\n\t\t\t\t//左滑动和有滑动的操作\r\n\t\t\t\tvar currentIndex = self.pageIndex; //当前页数\r\n\t\t\t\tvar targetLeftValue = null; //移动之后content的目标左值\r\n\t\t\t\tvar pingjunValue = null; //500ms内平均每100ms移动的值\r\n\t\t\t\tif (self.isMoving == 0) {\r\n\t\t\t\t\tif (self.move_direction == 0) {\r\n\t\t\t\t\t\tif (currentIndex < self.maxPageNum) {\r\n\t\t\t\t\t\t\ttargetLeftValue = -1 * self.windows.windows_width * currentIndex;\r\n\t\t\t\t\t\t\t// pingjunValue = Math.abs(targetLeftValue - self.leftValue) / 4; //500ms其实函数只执行了4次，第一次会等待100ms才会开始函数\r\n\t\t\t\t\t\t\t// isMoving = 1; //开始计时的时候将标志置1\r\n\t\t\t\t\t\t\t//使用计时器实现动画效果\r\n\t\t\t\t\t\t\t// console.log('开始向 左 滑动的计时器，isMoving为1');\r\n\t\t\t\t\t\t\t// moveTime = setInterval(function () {\r\n\t\t\t\t\t\t\t//   ++leftTimmerCount;\r\n\t\t\t\t\t\t\t//   var currentLeftValue = self.leftValue;\r\n\t\t\t\t\t\t\t//   //如果达到了目标值，立即停止计时器\r\n\t\t\t\t\t\t\t//   //调试发现有些时候这个if的跳转会莫名的不成立，所以做个限制，函数被执行了4次之后，无论条件是否成立，将leftValue设置为目标值，并结束计时器\r\n\t\t\t\t\t\t\t//   if (leftTimmerCount == 4) {\r\n\t\t\t\t\t\t\t//     clearInterval(moveTime);\r\n\t\t\t \t\t\t//     isMoving = 0;\r\n\t\t\t\t\t\t\t//     leftTimmerCount = 0;\r\n\t\t\t\t\t\t\tself.leftValue = targetLeftValue\r\n\t\t\t\t\t\t\t//     return;\r\n\t\t\t \t\t\t//   }\r\n\t\t\t\t\t\t\t//   if (currentLeftValue == targetLeftValue) {\r\n\t\t\t\t\t\t\t//     clearInterval(moveTime);\r\n\t\t\t\t\t\t\t//     isMoving = 0;\r\n\t\t\t\t\t\t\t//     leftTimmerCount = 0;\r\n\t\t\t\t\t\t\t//     // console.log('向 左 滑动的计时器结束了，isMoving为0');\r\n\t\t\t\t\t\t\t//     return;\r\n\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t//   self.setData({ leftValue: currentLeftValue - pingjunValue });\r\n\t\t\t\t\t\t\t// }, 75);\r\n\t\t\t\t\t\t\tself.pageIndex = ++currentIndex\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t//就是到了最后一页，下一步走下个目录了\r\n\t\t\t\t\t\t\tconsole.log(\"到了最后一页\",self.sectionNum)\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl:getChapterByNumAndBookId(self.bookid,self.sectionNum+1),\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"getChapterByNumAndBookId成功\")\r\n\t\t\t\t\t\t\t\t\tvar tmpData = res.data.data;\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"看一下tmpData\",tmpData)\r\n\t\t\t\t\t\t\t\t\tvar newContent = tmpData.content;\r\n\t\t\t\t\t\t\t\t\t//重新排版\r\n\t\t\t\t\t\t\t\t\tvar maxPageNum = self.countPageNum(newContent, self.allSliderValue.font, self\r\n\t\t\t\t\t\t\t\t\t\t.lineHeight, self.windows.pxwindows_width, self.windows.pxwindows_height, self\r\n\t\t\t\t\t\t\t\t\t\t.windows.pixelRatio);\r\n\t\t\t\t\t\t\t\t\tself.content = newContent\r\n\t\t\t\t\t\t\t\t\tself.maxPageNum = maxPageNum\r\n\t\t\t\t\t\t\t\t\tself.sectionNum +=1\r\n\t\t\t\t\t\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\t\t\t\t\t\tsection: self.sectionNum,\r\n\t\t\t\t\t\t\t\t\t\tbright: self.allSliderValue.bright,\r\n\t\t\t\t\t\t\t\t\t\tfont: self.allSliderValue.font\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// self.isMoving = 0\r\n\t\t\t\t\t\t\t\t\t// self.move_direction = 0\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tself.leftValue= 0\r\n\t\t\t\t\t\t\t\t\tself.pageIndex = 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//前一页和后一页相差其实是2个-320px\r\n\t\t\t\t\t\tif (currentIndex > 1) {\r\n\t\t\t\t\t\t\ttargetLeftValue = -1 * self.windows.windows_width * (currentIndex - 2);\r\n\t\t\t\t\t\t\t// pingjunValue = Math.abs(targetLeftValue - self.leftValue) / 4;\r\n\t\t\t\t\t\t\t// isMoving = 1;\r\n\t\t\t\t\t\t\t// console.log('开始向 左 滑动的计时器，isMoving为1');\r\n\t\t\t\t\t\t\t// moveTime = setInterval(function () {\r\n\t\t\t\t\t\t\t//   ++rightTimmerCount;\r\n\t\t\t\t\t\t\t//   var currentLeftValue = self.leftValue;\r\n\t\t\t\t\t\t\t//   if (rightTimmerCount == 4) {\r\n\t\t\t\t\t\t\t//     clearInterval(moveTime);\r\n\t\t\t\t\t\t\t//     isMoving = 0;\r\n\t\t\t\t\t\t\t//     rightTimmerCount = 0;\r\n\t\t\t\t\t\t\tself.leftValue = targetLeftValue\r\n\t\t\t\t\t\t\t//     return;\r\n\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t//   if (currentLeftValue == targetLeftValue) {\r\n\t\t\t\t\t\t\t//     clearInterval(moveTime);\r\n\t\t\t\t\t\t\t//     isMoving = 0;\r\n\t\t\t\t\t\t\t//     rightTimmerCount = 0;\r\n\t\t\t\t\t\t\t//     // console.log('向 右 滑动的计时器结束了，isMoving为0');\r\n\t\t\t\t\t\t\t//     return;\r\n\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t//   self.setData({ leftValue: currentLeftValue + pingjunValue });\r\n\t\t\t\t\t\t\t// }, 75);\r\n\t\t\t\t\t\t\tself.pageIndex = --currentIndex\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {}\r\n\t\t\t},\r\n\t\t\tsectionSliderChange: function(event) {\r\n\t\t\t\tconsole.log('正在执行sectionSliderChange, event为：', event);\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\tsection: event.detail.value,\r\n\t\t\t\t\tbright: self.allSliderValue.bright,\r\n\t\t\t\t\tfont: self.allSliderValue.font\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbrightSliderChange: function(event) {\r\n\t\t\t\tconsole.log('正在执行brightSliderChange, event为：', event);\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\tsection: self.allSliderValue.section,\r\n\t\t\t\t\tbright: event.detail.value,\r\n\t\t\t\t\tfont: self.allSliderValue.font\r\n\t\t\t\t}\r\n\t\t\t\t//亮度调节，其实是使用一个黑色的cover调节透明度，这里需要给出提示，使用亮度调节会失去当前颜色背景\r\n\t\t\t\tif (self.isUseBrightModel == 0) {\r\n\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '使用亮度调节，会将背景模式还原至最初模式，建议使用系统的亮度调节',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tself.isUseBrightModel = 1\r\n\t\t\t\t\t\t\t\tself.colorStyle = {\r\n\t\t\t\t\t\t\t\t\tcontent_bg: '#f5f9fc',\r\n\t\t\t\t\t\t\t\t\tstyleNum: 1,\r\n\t\t\t\t\t\t\t\t\tslider_bg: '#fd9941',\r\n\t\t\t\t\t\t\t\t\tslider_none_bg: '#dbdbdb',\r\n\t\t\t\t\t\t\t\t\tcontrol_bg: '#ffffff',\r\n\t\t\t\t\t\t\t\t\tcontrol_fontColor: '#fd9941'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfontSliderChange: function(event) {\r\n\t\t\t\tconsole.log('正在执行fontSliderChange, event为：', event);\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\tsection: self.allSliderValue.section,\r\n\t\t\t\t\tbright: self.allSliderValue.section,\r\n\t\t\t\t\tfont: event.detail.value\r\n\t\t\t\t}\r\n\t\t\t\t//重新计算分页\r\n\t\t\t\tvar maxPageNum = self.countPageNum(self.content, event.detail.value, self.lineHeight, self.windows\r\n\t\t\t\t\t.pxwindows_width, self.windows.pxwindows_height, self.windows.pixelRatio);\r\n\t\t\t\t\tconsole.log(\"maxPageNum是\",maxPageNum)\r\n\t\t\t\tself.maxPageNum = maxPageNum\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgotoControlDetail: function(event) {\r\n\t\t\t\tconsole.log('正在执行gotoControlDetail, event为：', event);\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar target = event.currentTarget.dataset.control;\r\n\t\t\t\t// 这里control_detail需要做两层判断，首先是control_detail之前是0还是1，0变成1,1变成0，其次是target在两次点击中是否相同，相同则继续上面的判断，否则取反\r\n\t\t\t\tvar control_detail = null;\r\n\t\t\t\tif (self.control.control_detail == 0) {\r\n\t\t\t\t\t// 当control_detail不显示的时候不再判断两次点击的目标是否相同，直接统一显示\r\n\t\t\t\t\tcontrol_detail = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (target && self.control.target == target) {\r\n\t\t\t\t\t\tcontrol_detail = 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontrol_detail = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.control = {\r\n\t\t\t\t\tall: self.control.all,\r\n\t\t\t\t\tcontrol_tab: 1,\r\n\t\t\t\t\tcontrol_detail: control_detail,\r\n\t\t\t\t\ttarget: target//font\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//点击切换颜色\r\n\t\t\tswitchColorStyle: function(event) {\r\n\t\t\t\tconsole.log('正在执行switchColorStyle, event为：', event);\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar styleNum = event.currentTarget.dataset.stylenum;\r\n\t\t\t\tswitch (styleNum) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tself.colorStyle = {\r\n\t\t\t\t\t\t\tcontent_bg: '#f5f9fc',\r\n\t\t\t\t\t\t\tstyleNum: 1,\r\n\t\t\t\t\t\t\tslider_bg: '#fd9941',\r\n\t\t\t\t\t\t\tslider_none_bg: '#dbdbdb',\r\n\t\t\t\t\t\t\tcontrol_bg: '#ffffff',\r\n\t\t\t\t\t\t\tcontrol_fontColor: '#fd9941'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t  case '2':\r\n\t\t\t\t\t\tself.colorStyle = {\r\n\t\t\t\t\t\t\tcontent_bg: '#f5f0da',\r\n\t\t\t\t\t\t\tstyleNum: 2,\r\n\t\t\t\t\t\t\tslider_bg: '#a6832f',\r\n\t\t\t\t\t\t\tslider_none_bg: '#dbd6c3',\r\n\t\t\t\t\t\t\tcontrol_bg: '#f8f3e0',\r\n\t\t\t\t\t\t\tcontrol_fontColor: '#a6832f'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '3':\r\n\t\t\t\t\t\tself.colorStyle = {\r\n\t\t\t\t\t\t\tcontent_bg: '#c0edc6',\r\n\t\t\t\t\t\t\tstyleNum: 3,\r\n\t\t\t\t\t\t\tslider_bg: '#359112',\r\n\t\t\t\t\t\t\tslider_none_bg: '#a7ccab',\r\n\t\t\t\t\t\t\tcontrol_bg: '#ccf1d0',\r\n\t\t\t\t\t\t\tcontrol_fontColor: '#359112'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '4':\r\n\t\t\t\t\t\tself.colorStyle = {\r\n\t\t\t\t\t\t\tcontent_bg: '#1a1e21',\r\n\t\t\t\t\t\t\tstyleNum: 4,\r\n\t\t\t\t\t\t\tslider_bg: '#bb7333',\r\n\t\t\t\t\t\t\tslider_none_bg: '#212528',\r\n\t\t\t\t\t\t\tcontrol_bg: '#101417',\r\n\t\t\t\t\t\t\tcontrol_fontColor: '#bb7333'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectFontFamily: function() {\r\n\t\t\t\tconsole.log('正在执行selectFontFamily');\r\n\r\n\t\t\t\tthis.isShowFontSelector = 1\r\n\t\t\t},\r\n\t\t\tcloseFontSelector: function() {\r\n\t\t\t\tconsole.log('正在执行closeFontSelector');\r\n\r\n\t\t\t\tthis.isShowFontSelector = 0\r\n\t\t\t},\r\n\t\t\tchangeFontFamily: function(event) {\r\n\t\t\t\tconsole.log('正在执行changeFontFamily');\r\n\r\n\t\t\t\tthis.currentFontFamily = event.currentTarget.dataset.fontname\r\n\t\t\t\t//todo 执行改变字体后的重新排版\r\n\t\t\t},\r\n\t\t\t//打开目录侧边栏\r\n\t\t\topenMulu: function() {\r\n\t\t\t\t// console.log('正在执行openMulu');\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar bookid = self.bookid || '58cbc7c8618cec336c6e8a10';\r\n\t\t\t var sectionNum = self.allSliderValue.section || 1430;\r\n\t\t\t // var bookid = self.bookid || '58ad9056f5d3811cecea0149'; //home\r\n\t\t\t\t//此接口需要分页，不能每次拿到全部的章节数据\r\n\t\t\t\t//发送ajax得到这本小说的所有章节\r\n\t\t\t\tvar success = function(obj) {\r\n\t\t\t\t\tself.isShowMulu = 1\r\n\t\t\t\t\t// console.log(\"显示目录\")\r\n\t\t\t\t};\r\n\t\t\t\tvar fail = function(obj) {\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: '获取目录失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\tself.getMuluFun(bookid, sectionNum, self, success, fail);\r\n\t\t\t},\r\n\t\t\t//目录向上滑动到顶部\r\n\t\t\tgetPreMuluPage: function() {\r\n\t\t\t\tconsole.log('正在执行getPreMuluPage');\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar bookid = self.bookid || '58cbc7c8618cec336c6e8a10';\r\n\t\t\t\tvar sectionNum = self.allSliderValue.section || 1430;\r\n\t\t\t\tsectionNum -= 20;\r\n\t\t\t\t// var bookid = self.bookid || '58ad9056f5d3811cecea0149'; //home\r\n\t\t\t\tvar success = function(obj) {\r\n\t\t\t\t\tconsole.log('你向上翻了一页');\r\n\t\t\t\t};\r\n\t\t\t\tvar fail = function(obj) {\r\n\t\t\t\t\tUtil.showErrMsg(obj, '获取目录失败');\r\n\t\t\t\t};\r\n\t\t\t\tself.getMuluFun(bookid, sectionNum, self, success, fail, 'pre');\r\n\t\t\t},\r\n\t\t\t//目录向下滑动到底部\r\n\t\t\tgetNextMuluPage: function() {\r\n\t\t\t\tconsole.log('正在执行getNextMuluPage');\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar bookid = self.bookid || '58cbc7c8618cec336c6e8a10';\r\n\t\t\t\tvar sectionNum = self.allSliderValue.section || 1430;\r\n\t\t\t\tsectionNum += 20;\r\n\t\t\t\t// var bookid = self.bookid || '58ad9056f5d3811cecea0149'; //home\r\n\t\t\t\tvar success = function(obj) {\r\n\t\t\t\t\tconsole.log('你向上翻了一页');\r\n\t\t\t\t};\r\n\t\t\t\tvar fail = function(obj) {\r\n\t\t\t\t\tUtil.showErrMsg(obj, '获取目录失败');\r\n\t\t\t\t};\r\n\t\t\t\tself.getMuluFun(bookid, sectionNum, self, success, fail, 'next');\r\n\t\t\t},\r\n\t\t\t//滑动目录swiper\r\n\t\t\tmuluSwiper: function(event) {\r\n\t\t\t\tconsole.log('正在执行muluSwiper');\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar currentIndex = event.detail.current;\r\n\t\t\t\tself.muluSwiperNum = currentIndex\r\n\t\t\t},\r\n\t\t\tcloseMulu: function(e) {\r\n\t\t\t\t// console.log('正在执行closeMulu');\r\n\r\n\t\t\t\tthis.isShowMulu = 0\r\n\t\t\t},\r\n\t\t\t//点击目录某一章\r\n\t\t\tshowThisSection: function(event) {\r\n\t\t\t\tconsole.log(\"正在执行showThisSection,event是\",event)\r\n\t\t\t\t//显示loading\r\n\t\t\t\twx.showToast({\r\n\t\t\t  title: '内容加载中',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 100\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar sectionId = event.currentTarget.dataset.sectionid;\r\n\t\t\t\tvar sectionNum = event.currentTarget.dataset.sectionnum;\r\n\t\t\t\t//根据章节id去得到章节内容\r\n\t\t\t\tvar token = uni.getStorageSync('token');\r\n\t\t\t\tvar bookid = self.bookid ;\r\n\t\t\t\t\r\n\t\t\t\twx.request({\r\n\t\t\t\t\turl: getContentById(sectionId,token,bookid),\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tvar tmpData = res.data.data;\r\n\t\t\t\t\t\t\tconsole.log(\"看一下tmpData\",tmpData)\r\n\t\t\t\t\t\t\tvar newContent = tmpData.content;\r\n\t\t\t\t\t\t\t//重新排版\r\n\t\t\t\t\t\t\tvar maxPageNum = self.countPageNum(newContent, self.allSliderValue.font, self\r\n\t\t\t\t\t\t\t\t.lineHeight, self.windows.pxwindows_width, self.windows.pxwindows_height, self\r\n\t\t\t\t\t\t\t\t.windows.pixelRatio);\r\n\t\t\t\t\t\t\tself.content = newContent\r\n\t\t\t\t\t\t\tself.maxPageNum = maxPageNum\r\n\t\t\t\t\t\t\tself.sectionNum = tmpData.num\r\n\t\t\t\t\t\t\tself.allSliderValue = {\r\n\t\t\t\t\t\t\t\tsection: sectionNum,\r\n\t\t\t\t\t\t\t\tbright: self.allSliderValue.bright,\r\n\t\t\t\t\t\t\t\tfont: self.allSliderValue.font\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// self.isMoving = 0\r\n\t\t\t\t\t\t\t// self.move_direction = 0\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tself.leftValue= 0\r\n\t\t\t\t\t\t\tself.pageIndex = 0\r\n\t\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t\t\tself.closeMulu();\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\t// console.log(e);\r\n\t\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t\t\tUtil.showErrMsg(self, '获取章节内容失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twx.hideToast();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(e) {\r\n\t\t\t  \twx.hideToast();\r\n\t\t\t\t\t\tUtil.showErrMsg(self, '获取章节内容失败');\r\n\t\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t\t}\r\n\t\t\t });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.reader-container {\r\n\t\t/* height: 100%; 看后面加回来*/\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t\t/* 原来是relative ,relative比fixed好*/\r\n\t\t/* position: fixed; */\r\n\t\tposition: fixed;\r\n\t}\r\n\r\n\t.reader-container .content {\r\n\t\tdisplay: block;\r\n\t\toverflow-x: hidden;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\t/* -moz-column-rule:1px solid #a3cfff; */\r\n\t\t/* column-rule:1px solid #a3cfff; */\r\n\t\tcolumn-gap: 40rpx;\r\n\t\tpadding: 20rpx 30rpx 0 40rpx;\r\n\t\tposition: relative;\r\n\t\tleft: -320rpx;\r\n\t}\r\n\r\n\t.reader-container .content.loaded {\r\n\t\ttransition: all 0.5s ease-in-out !important;\r\n\t}\r\n\r\n\t.reader-container .control {\r\n\t\twidth: 100%;  /* 新加的*/\r\n\t\tposition: fixed; /* 新加的*/\r\n\t\t\r\n\t\theight: 110rpx;\r\n\t\t/* position: absolute; */\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: space-around;\r\n\t\tborder-top: 1px solid #d7d7d7;\r\n\t}\r\n\r\n\t.reader-container .control-item {\r\n\t\theight: 100rpx;\r\n\t\tmargin-top: 5rpx;\r\n\t\twidth: 100rpx;\r\n\t}\r\n\r\n\t.reader-container .control-item icon {\r\n\t\theight: 50rpx;\r\n\t\tmargin-top: 25rpx;\r\n\t\tmargin-left: 25rpx;\r\n\t\twidth: 50rpx;\r\n\t}\r\n\r\n\t.reader-container .control-detail {\r\n\t\theight: 200rpx;\r\n\t\twidth: 100%;\r\n\t\tposition: absolute;\r\n\t\tbottom: 110rpx;\r\n\t\tleft: 0;\r\n\t\tborder-bottom: 1px solid #d7d7d7;\r\n\t}\r\n\r\n\t.reader-container .control-detail>view {\r\n\t\twidth: 100%;\r\n\t\tposition: absolute;\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.reader-container .control-detail .jingdu {\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t\theight: 110rpx;\r\n\t}\r\n\r\n\t.reader-container .faction {\r\n\t\tcolor: #333;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.rleft1-icon,\r\n\t.rleft2-icon,\r\n\t.rleft3-icon,\r\n\t.rleft4-icon {\r\n\t\tposition: absolute;\r\n\t\ttop: 25rpx;\r\n\t\tleft: 10rpx;\r\n\t\tdisplay: inline-block;\r\n\t\theight: 60rpx;\r\n\t\twidth: 60rpx;\r\n\t}\r\n\r\n\t.rright1-icon,\r\n\t.rright2-icon,\r\n\t.rright3-icon,\r\n\t.rright4-icon {\r\n\t\tposition: absolute;\r\n\t\ttop: 25rpx;\r\n\t\tright: 10rpx;\r\n\t\tdisplay: inline-block;\r\n\t\theight: 60rpx;\r\n\t\twidth: 60rpx;\r\n\t}\r\n\r\n\t.reader-container .nameAndNum {\r\n\t\ttext-align: center;\r\n\t\tpadding-top: 18rpx;\r\n\t}\r\n\r\n\t.reader-container .jingdu-num {\r\n\t\tposition: relative;\r\n\t\ttop: 8rpx;\r\n\t}\r\n\r\n\t.reader-container .brightness {\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 15rpx 20rpx 6rpx 20rpx;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.reader-container .brightness .day1-icon,\r\n\t.reader-container .brightness .day2-icon,\r\n\t.reader-container .brightness .day3-icon,\r\n\t.reader-container .brightness .day4-icon {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t}\r\n\r\n\t.reader-container .brightness .bright-slider {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.reader-container .color-select {\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding: 16rpx 10rpx 0 10rpx;\r\n\t}\r\n\r\n\t.reader-container .color-select .color-item {\r\n\t\twidth: 150rpx;\r\n\t\theight: 50rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.white-bg {\r\n\t\tbackground-color: #ffffff;\r\n\t}\r\n\r\n\t.pink-bg {\r\n\t\tbackground-color: #f8f3e0;\r\n\t}\r\n\r\n\t.green-bg {\r\n\t\tbackground-color: #ccf1d0;\r\n\t}\r\n\r\n\t.back-bg {\r\n\t\tbackground-color: #202930;\r\n\t}\r\n\r\n\t.reader-container .font-detail {\r\n\t\tdisplay: -webkit-flex;\r\n\t\tflex-flow: column nowrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.reader-container .fontSize {\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 15rpx 20rpx 6rpx 20rpx;\r\n\t\talign-items: center;\r\n\t\theight: 50%;\r\n\t}\r\n\r\n\t.reader-container .fontSize .font1-icon,\r\n\t.reader-container .fontSize .font2-icon,\r\n\t.reader-container .fontSize .font3-icon,\r\n\t.reader-container .fontSize .font4-icon {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t}\r\n\r\n\t.reader-container .fontSize .font1-icon.small,\r\n\t.reader-container .fontSize .font2-icon.small,\r\n\t.reader-container .fontSize .font3-icon.small,\r\n\t.reader-container .fontSize .font4-icon.small {\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t}\r\n\r\n\t.reader-container .fontSize .font-slider {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.reader-container .fontSelector {\r\n\t\theight: 40%;\r\n\t\ttext-align: center;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\r\n\t.reader-container .fontSelector>text {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tline-height: 100%;\r\n\t}\r\n\r\n\t.reader-container .fontDetail {\r\n\t\tposition: absolute;\r\n\t\ttop: -120rpx;\r\n\t\tz-index: 1000;\r\n\t\ttext-align: left;\r\n\t\twidth: 100%;\r\n\t\tbottom: 0;\r\n\t\tpadding: 0 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .allItem {\r\n\t\toverflow: auto;\r\n\t\theight: 260rpx;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .font-item {\r\n\t\theight: 70rpx;\r\n\t\tborder-bottom: 1px solid #d7d7d7;\r\n\t\tposition: relative;\r\n\t\tline-height: 70rpx;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .font-item text {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .font-item icon {\r\n\t\tposition: absolute;\r\n\t\ttop: 70%;\r\n\t\ttransform: translateY(-50%);\r\n\t\tright: 10rpx;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .font-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.reader-container .fontDetail .font-title {\r\n\t\ttext-align: left;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tposition: relative;\r\n\t\tpadding-left: 70rpx;\r\n\t}\r\n\r\n\t.leftFont1-icon,\r\n\t.leftFont2-icon,\r\n\t.leftFont3-icon,\r\n\t.leftFont4-icon {\r\n\t\tdisplay: inline-block;\r\n\t\theight: 40rpx;\r\n\t\twidth: 46rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 10rpx;\r\n\t\tleft: 0;\r\n\t}\r\n\r\n\t.reader-container .cover {\r\n\t\tposition: absolute;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tz-index: -1;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\t\r\n\t}\r\n\r\n\t.yueliang-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 4rpx -1rpx;\r\n\t\tdisplay: inline-block;\r\n\t\theight: 38rpx;\r\n\t\twidth: 48rpx;\r\n\t\tmargin-top: 9rpx;\r\n\t}\r\n\r\n     .mymulu1-icon::before{\r\n\t  content: '\\e60b;';\r\n\t}\r\n\t\r\n\t.mulu1-icon {\r\n\t\tbackground-size: 240rpx 240rpx;\r\n\t\tbackground-position: -94rpx -145rpx;\r\n\t}\r\n\t.myjingdu1-icon::before{\r\n\t\tcontent: '\\e610';\r\n\t}\r\n\t\r\n\t.jingdu1-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -165rpx -166rpx;\r\n\t}\r\n\t.myjingdu1-select-icon::before{\r\n\t\tcontent: '\\e975';\r\n\t}\r\n\t\r\n\r\n\t.jingdu1-select-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -221rpx -166rpx;\r\n\t}\r\n\t\r\n\t.myday1-icon::before{\r\n\t\tcontent: '\\e6d2';\r\n\t}\r\n\t.day1-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 5rpx -176rpx;\r\n\t}\r\n\t.myday1-select-icon::before{\r\n\t\tcontent: '\\e976';\r\n\t}\r\n\t.day1-select-icon {\r\n\t\tbackground-size: 260rpx 260rpx;\r\n\t\tbackground-position: -51rpx -210rpx;\r\n\t}\r\n\t.myfont1-icon::before{\r\n\t\tcontent: '\\e61d';\r\n\t}\r\n\t.font1-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -111rpx -220rpx;\r\n\t}\r\n\r\n\t.font1-icon.small {\r\n\t\tbackground-size: 180rpx 180rpx;\r\n\t\tbackground-position: -75rpx -150rpx;\r\n\t}\r\n\r\n\t.rleft1-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -163rpx -216rpx;\r\n\t}\r\n\r\n\t.rright1-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -215rpx -216rpx;\r\n\t}\r\n\r\n\t.leftFont1-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 0rpx -180rpx;\r\n\t}\r\n\r\n\t.mulu2-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -85rpx -85rpx;\r\n\t}\r\n\r\n\t.jingdu2-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -130rpx -85rpx;\r\n\t}\r\n\r\n\t.jingdu2-select-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -175rpx -85rpx;\r\n\t}\r\n\r\n\t.day2-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 6rpx -130rpx;\r\n\t}\r\n\r\n\t.day2-select-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -40rpx -130rpx;\r\n\t}\r\n\r\n\t.font2-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -110rpx -166rpx;\r\n\t}\r\n\r\n\t.font2-icon.small {\r\n\t\tbackground-size: 180rpx 180rpx;\r\n\t\tbackground-position: -75rpx -110rpx;\r\n\t}\r\n\r\n\t.rleft2-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -161rpx -160rpx;\r\n\t}\r\n\r\n\t.rright2-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -213rpx -160rpx;\r\n\t}\r\n\r\n\t.leftFont2-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 0rpx -180rpx;\r\n\t}\r\n\r\n\t.mulu3-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -84rpx 6rpx;\r\n\t}\r\n\r\n\t.jingdu3-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -130rpx 6rpx;\r\n\t}\r\n\r\n\t.jingdu3-select-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -175rpx 6rpx;\r\n\t}\r\n\r\n\t.day3-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 6rpx -40rpx;\r\n\t}\r\n\r\n\t.day3-select-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: -39rpx -40rpx;\r\n\t}\r\n\r\n\t.font3-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -109rpx -54rpx;\r\n\t}\r\n\r\n\t.font3-icon.small {\r\n\t\tbackground-size: 180rpx 180rpx;\r\n\t\tbackground-position: -75rpx -38rpx;\r\n\t}\r\n\r\n\t.rleft3-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -161rpx -48rpx;\r\n\t}\r\n\r\n\t.rright3-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -213rpx -48rpx;\r\n\t}\r\n\r\n\t.leftFont3-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 0rpx -180rpx;\r\n\t}\r\n\r\n\t.mulu4-icon {\r\n\t\tbackground-size: 240rpx 240rpx;\r\n\t\tbackground-position: -94rpx -145rpx;\r\n\t}\r\n\r\n\t.jingdu4-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -165rpx -166rpx;\r\n\t}\r\n\r\n\t.jingdu4-select-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -221rpx -166rpx;\r\n\t}\r\n\r\n\t.day4-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 5rpx -176rpx;\r\n\t}\r\n\r\n\t.day4-select-icon {\r\n\t\tbackground-size: 260rpx 260rpx;\r\n\t\tbackground-position: -51rpx -210rpx;\r\n\t}\r\n\r\n\t.font4-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -111rpx -220rpx;\r\n\t}\r\n\r\n\t.font4-icon.small {\r\n\t\tbackground-size: 180rpx 180rpx;\r\n\t\tbackground-position: -75rpx -150rpx;\r\n\t}\r\n\r\n\t.rleft4-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -163rpx -216rpx;\r\n\t}\r\n\r\n\t.rright4-icon {\r\n\t\tbackground-size: 270rpx 270rpx;\r\n\t\tbackground-position: -215rpx -216rpx;\r\n\t}\r\n\r\n\t.leftFont4-icon {\r\n\t\tbackground-size: 220rpx 220rpx;\r\n\t\tbackground-position: 0rpx -180rpx;\r\n\t}\r\n\r\n\t.mulu-detail {\r\n\t\tposition: absolute;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\twidth: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: none;\r\n\t\t\r\n\t}\r\n\r\n\t.mulu-detail.active {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.mulu-detail .muluPanel {\r\n\t\twidth: 0%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.mulu-detail.active .muluPanel {\r\n\t\tanimation: slideShow 0.4s;\r\n\t\tanimation-fill-mode: forwards;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swipers {\r\n\t\theight: 92%;\r\n\t\t/* height: 100%; */\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.mulu-detail .bottomCtr {\r\n\t\theight: 8%;\r\n\t\twidth: 100%;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tflex-flow: row nowarp;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 60rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .search {\r\n\t\tborder: 1px solid #ccc;\r\n\t\tmargin: 30rpx 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .search>icon {\r\n\t\tposition: absolute;\r\n\t\tleft: 10rpx;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .search>input {\r\n\t\tmargin-left: 60rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo {\r\n\t\tmargin-left: 30rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo image {\r\n\t\theight: 80rpx;\r\n\t\twidth: 50rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .book {\r\n\t\tposition: absolute;\r\n\t\tleft: 100rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .factionName {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .author {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .readerTime {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .num {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .bookInfo .timeDes {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 20rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .sections {\r\n\t\tmargin-top: 20rpx;\r\n\t\theight: 86%;\r\n\t\t\r\n\t\t/* border-top: 1rpx solid #dedede; */\r\n\t\t/* border-bottom: 1rpx solid #dedede; */\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .section {\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tmargin-bottom: 0;\r\n\t\tborder-bottom: 1rpx solid #dedede;\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding-left: 30rpx;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .section:first-child {\r\n\t\tborder-top: 1rpx solid #dedede;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .section:last-child {\r\n\t\tborder-bottom: 1rpx solid #dedede;\r\n\t}\r\n\r\n\t.mulu-detail .mulu-swiper .factionNum {\r\n\t\tmargin-right: 40rpx;\r\n\t}\r\n\r\n\t@keyframes slideShow {\r\n\t\tform {\r\n\t\t\twidth: 0;\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\twidth: 86%;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reader.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685671671953\n      var cssReload = require(\"D:/HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}