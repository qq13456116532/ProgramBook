{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?e5f2","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?4c58","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?6267","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?77ac","uni-app:///pages/user/userinfo/userinfo.vue","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?327d","webpack:///D:/HBuilder/HBuilderX.2.8.13.20200927/Workplace/book/pages/user/userinfo/userinfo.vue?0e4d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","age","nickname","birthday","signature","address","realm","email","avatar","hasReadTime","continueReadDay","hasBookNum","changeOrSubmit","errTips","err_tips_data","err_tips_show","err_tips_text","err_page_data","is_click_img","onLoad","uni","key","success","console","methods","initQiniu","region","uptokenURL","domain","qiniuUploader","headimgError","formSubmit","updateData","url","method","userid","info","self","fail","getUserInfo","Util","show","image_url","text","buttonText","click","uploadAvatar","title","icon","duration","sourceType","sizeType","count","setTimeout","userInput"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACgB;;;AAGvE;AACsL;AACtL,gBAAgB,uLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAosB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDxtB;AACA;AACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;QAAAC;QAAAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACA;IACAC;MACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;UACA;YACA;YACAC;YACAA;YACA;cACAA;YACA;YACA;cACAA;YACA;YACA;cACAA;YACA;YACA;cACAA;YACA;YACA;cACAA;YACA;YACA;cACAA;YACA;YACA;YACAZ;cACAa;cACAC;cACAlC;gBAAAmC;gBAAAC;cAAA;cACAd;gBACA;gBACA;gBACA;kBACAC;kBACAc;kBACA;kBACAA;gBACA;cACA;cACAC;gBACAf;gBACA;gBACA;cACA;YACA;UACA;YACA;YACA;UACA;QACA;UACA;UACA;QACA;MACA;QACA;MACA;IACA;IACAgB;MACAnB;QACAa;QACAX;UACA;UACA;YACA;YACAF;cACAC;cACArB;cACAsB;gBACAC;cACA;YACA;UACA;YACAA;YACAiB;UACA;QACA;QACAF;UACAf;UACA;YACAkB;YACAC;YACAC;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAC;MACA1B;MACAA;QAAA2B;QAAAC;QAAAC;MAAA;MACAxB;MACA;MACA;MACAL;QACA8B;QACAC;QAAA;QACAC;QAAA;QACA9B;UAAA;UACA;UACA;UACA;UACAO;YACAN;YACA;YACA;YACA;YACAH;YACAA;cAAA2B;cAAAC;cAAAC;YAAA;YACAI;cAAAjC;YAAA;UACA;YACAG;UACA;QACA;QACAe;UACAf;QACA;MACA;IACA;IACA;IACA+B;MACA;MACA;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/QA;AAAA;AAAA;AAAA;AAA4xC,CAAgB,6pCAAG,EAAC,C;;;;;;;;;;;ACAhzC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/userinfo/userinfo.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/userinfo/userinfo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./userinfo.vue?vue&type=template&id=85cda378&\"\nvar renderjs\nimport script from \"./userinfo.vue?vue&type=script&lang=js&\"\nexport * from \"./userinfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userinfo.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/userinfo/userinfo.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userinfo.vue?vue&type=template&id=85cda378&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userinfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userinfo.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"userInfo-container\">\r\n\t\t<view class=\"err-tips\" :hidden=\"!errTips\">{{errTips}}</view>\r\n\t\t<form bindsubmit=\"formSubmit\">\r\n\t\t  <image class=\"headImg\" :src=\"avatar\" @error=\"headimgError\" @click=\"uploadAvatar\" ></image>\r\n\t\t  <view class=\"split-text\">基本信息</view>\r\n\t\t  <view class=\"section\">\r\n\t\t    <view class=\"section-title\">昵称</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color:' + nickname ? '#000' : '#666'\">{{nickname || '给自己起个响亮的名字吧'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入昵称\" data-type=\"nickname\" @input=\"userInput\" v-model=\"nickname\" v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t  <view class=\"section\">\r\n\t\t    <view class=\"section-title\">邮箱</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color: ' + email ? '#000' : '#666'\">{{email || '未设置邮箱'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入常用邮箱\" data-type=\"email\" @input=\"userInput\" v-model=\"email\" v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t  <view class=\"split-text\">可选信息</view>\r\n\t\t  <view class=\"section\">\r\n\t\t    <view class=\"section-title\">姓名</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color:'+  realm ? '#000' : '#666'\">{{realm || '未设置姓名'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入自己的姓名\" data-type=\"realm\" @input=\"userInput\" v-model=\"realm\" v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t<view class=\"section\">\r\n\t\t    <view class=\"section-title\">年龄</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color: '+ (age > 0) ? '#000' : '#666'\">{{(age > 0) ? age : '未设置年龄'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入年龄\" data-type=\"age\" @input=\"userInput\" v-model=\"age\" v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t  <view class=\"section\">\r\n\t\t    <view class=\"section-title\">生日</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color: '+ birthday ? '#000' : '#666'\">{{birthday || '未设置出生日期'}}</view>\r\n\t\t    <picker mode=\"date\" value=\"\" start=\"1990-09-01\" end=\"2017-09-01\" data-type=\"birthday\" @change=\"userInput\" v-model=\"birthday\" v-if=\"!changeOrSubmit\" >\r\n\t\t    \t<view class=\"picker\" :style=\"'color:' + birthday ? '#000;' : '#888;'\">{{birthday || '请输入出生日期'}}</view>\r\n\t\t    </picker>\r\n\t\t  </view>\r\n\t\t <view class=\"section\">\r\n\t\t    <view class=\"section-title\">所在地</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color:'+ address ? '#000' : '#666'\">{{address || '未设置所在地'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入当前所在位置\" data-type=\"address\" @input=\"userInput\" v-model=\"address\"  v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t <view class=\"section\">\r\n\t\t    <view class=\"section-title\">个人签名</view>\r\n\t\t    <view class=\"display\" v-if=\"changeOrSubmit\" :style=\"'color: '+ signature ? '#000' : '#666'\">{{signature || '未设置签名'}}</view>\r\n\t\t    <input name=\"input\" placeholder=\"请输入个人签名\" data-type=\"signature\" @input=\"userInput\" v-model=\"signature\" v-if=\"!changeOrSubmit\" />\r\n\t\t  </view>\r\n\t\t  <view class=\"btn-area\">\r\n\t\t    <button formType=\"submit\" type=\"primary\">{{changeOrSubmit ? '修改' : '提交'}}</button>\r\n\t\t  </view>\r\n\t\t</form>\r\n\t</view>\n</template>\n\n<script>\r\n\t//today.js\r\n\tvar Api = require('../../../utils/api/api');\r\n\tvar util = require('../../../utils/util');\r\n\tvar qiniuUploader = require('../../../utils/qiniuUpload');\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t age: '',\r\n\t\t\t\t    nickname: '',\r\n\t\t\t\t    birthday: '',\r\n\t\t\t\t    signature: '',\r\n\t\t\t\t    address: '',\r\n\t\t\t\t    realm: '',\r\n\t\t\t\t    email: '',\r\n\t\t\t\t    avatar: '',\r\n\t\t\t\t    hasReadTime: 0,\r\n\t\t\t\t    continueReadDay: 0,\r\n\t\t\t\t    hasBookNum: 0,\r\n\t\t\t\t    changeOrSubmit: true, // 用户正在执行的操作，是修改（true）还是已经修改好了准备提交（false）\r\n\t\t\t\t    errTips: '',\r\n\t\t\t\t    err_tips_data: { err_tips_show: false, err_tips_text: '' },\r\n\t\t\t\t    err_page_data: null, //app状态页\r\n\t\t\t\t    is_click_img: false // 是否点击了上传头像\n\t\t\t};\n\t\t},\r\n\t\t  onLoad: function () {\r\n\t\t    var self = this;\r\n\t\t    // 从缓存中读取用户信息\r\n\t\t    uni.getStorage({\r\n\t\t      key: 'userInfo',\r\n\t\t      success: function (res) {\r\n\t\t\t\t  this.avatar = res.data.avatar\r\n\t\t\t\t  this.hasReadTime = res.data.hasReadTime\r\n\t\t\t\t  this.continueReadDay = res.data.continueReadDay\r\n\t\t\t\t  this.hasBookNum=res.data.books\r\n\t\t\t\t  this.address = res.data.address\r\n\t\t\t\t  this.signature= res.data.signature\r\n\t\t      this.email =res.data.email\r\n\t\t\t  this.nickname = res.data.nickName\r\n\t\t\t  this.birthday =  res.data.birthday\r\n\t\t\t  this.realm = res.data.realm\r\n\t\t\t  this.age = (res.data.age > 0 ? res.data.age : '')\r\n\t\r\n\t\t        console.log('从缓存中读取个人信息成功');\r\n\t\t      }\r\n\t\t    });\r\n\t\t  },\r\n\t\tmethods:{\r\n\t\t\t// 初始化七牛相关参数\r\n\t\t\t initQiniu: function(callback) {\r\n\t\t\t  var options = {\r\n\t\t\t    region: 'SCN', // 华东区，生产环境应换成自己七牛帐户bucket的区域\r\n\t\t\t    uptokenURL: Api.getUploadToken(), // 生产环境该地址应换成自己七牛帐户的token地址，具体配置请见server端\r\n\t\t\t    domain: 'https://file.lantingshucheng.com/' // 生产环境该地址应换成自己七牛帐户对象存储的域名\r\n\t\t\t  };\r\n\t\t\t  qiniuUploader.init(options);\r\n\t\t\t},\r\n\t\t\t headimgError: function () {\r\n\t\t\t  this.avatar = \"https://file.lantingshucheng.com/myApp/unknown_headimg.png?imageView2/1/w/60/h/60/format/jpg/interlace/1/q/75|imageslim\"\r\n\t\t\t  },\r\n\t\t\t  // 表单提交事件\r\n\t\t\t  formSubmit: function () {\r\n\t\t\t    var self = this;\r\n\t\t\t    // 只有当前处于提交状态才会执行下面的代码\r\n\t\t\t    if(!self.changeOrSubmit){\r\n\t\t\t      // 校验合法性\r\n\t\t\t      var emailReg = /^[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?$/;\r\n\t\t\t      var passwordReg = /^[a-zA-Z\\d_]{8,}$/; //最少8位\r\n\t\t\t      var nickNameReg = /^[\\u4e00-\\u9fa5\\w]{2,8}$/; //2-8位数字或者字母或者中文\r\n\t\t\t      var realNameReg = /^[\\u4e00-\\u9fa5\\w]{2,8}$/; //2-8位数字或者字母或者中文\r\n\t\t\t      var cityReg = /^[\\u4e00-\\u9fa5\\w ]{2,18}$/; //2-10位数字或者字母或者中文\r\n\t\t\t      var numberReg = /\\d+/;\r\n\t\t\t      if (nickNameReg.test(self.nickname)) {\r\n\t\t\t        if (emailReg.test(self.email)) {\r\n\t\t\t          var updateData = {};\r\n\t\t\t          updateData.nickname = self.nickname;\r\n\t\t\t          updateData.email = self.email;\r\n\t\t\t          if(self.realm && realNameReg.test(self.realm)){\r\n\t\t\t            updateData.realm = self.realm;\r\n\t\t\t          }\r\n\t\t\t          if(self.age && numberReg.test(self.age)){\r\n\t\t\t            updateData.age = self.age;\r\n\t\t\t          }\r\n\t\t\t          if(self.birthday && (typeof self.birthday === 'string')){\r\n\t\t\t            updateData.birthday = self.birthday;\r\n\t\t\t          }\r\n\t\t\t          if(self.address && cityReg.test(self.address)){\r\n\t\t\t            updateData.address = self.address;\r\n\t\t\t          }\r\n\t\t\t          if(self.signature && (typeof self.signature === 'string')){\r\n\t\t\t            updateData.signature = self.signature;\r\n\t\t\t          }\r\n\t\t\t          if(self.avatar && self.is_click_img){\r\n\t\t\t            updateData.avatar = self.avatar;\r\n\t\t\t          }\r\n\t\t\t          var userid = uni.getStorageSync('id').userid;\r\n\t\t\t          uni.request({\r\n\t\t\t            url: Api.updateUserInfo(),\r\n\t\t\t            method: 'POST',\r\n\t\t\t            data: {userid: userid, info: updateData},\r\n\t\t\t            success: function (res) {\r\n\t\t\t              var tmpData = res.data.data;\r\n\t\t\t              //注册成功，缓存userid和openid\r\n\t\t\t              if(tmpData.code == 0){\r\n\t\t\t                console.log('更新个人信息成功');\r\n\t\t\t\t\t\t\tself.changeOrSubmit = true\r\n\t\t\t                //更新缓存中的userInfo\r\n\t\t\t                self.getUserInfo(userid);\r\n\t\t\t              }\r\n\t\t\t            },\r\n\t\t\t            fail: function (err) {\r\n\t\t\t              console.log('注册失败， ' + err);\r\n\t\t\t\t\t\t  this.errTips =  '更新个人信息失败'\r\n\t\t\t\t\t\t  this.changeOrSubmit = false\r\n\t\t\t            }\r\n\t\t\t          });\r\n\t\t\t        } else {\r\n\t\t\t\t\t\tthis.errTips =\"请输入有效邮箱\"\r\n\t\t\t\t\t\tthis.changeOrSubmit = false\r\n\t\t\t        }\r\n\t\t\t      } else {\r\n\t\t\t\t\t  this.errTips =\"请输入2-10字母或、数字或者中文组成的昵称\"\r\n\t\t\t\t\t  this.changeOrSubmit = false\r\n\t\t\t      }\r\n\t\t\t    }else{\r\n\t\t\t\t\tthis.changeOrSubmit = !self.data.changeOrSubmit\r\n\t\t\t    }\r\n\t\t\t  },\r\n\t\t\t  getUserInfo: function (userid) {\r\n\t\t\t    uni.request({\r\n\t\t\t      url: Api.getUserInfo(userid),\r\n\t\t\t      success: function (res) {\r\n\t\t\t        var tmpData = res.data.data;\r\n\t\t\t        if (tmpData && tmpData.code == 0) {\r\n\t\t\t          //将书单数据缓存到本地\r\n\t\t\t          uni.setStorage({\r\n\t\t\t            key: 'userInfo',\r\n\t\t\t            data: tmpData.info,\r\n\t\t\t            success: function (res) {\r\n\t\t\t              console.log('成功更新本地缓存中用户信息');\r\n\t\t\t            }\r\n\t\t\t          });\r\n\t\t\t        } else {\r\n\t\t\t          console.log('请求用户信息失败....');\r\n\t\t\t          Util.showErrMsg(self, '获取个人信息失败', 1000);\r\n\t\t\t        }\r\n\t\t\t      },\r\n\t\t\t      fail: function (err) {\r\n\t\t\t        console.log(err);\r\n\t\t\t\t\tthis.err_page_data = {\r\n\t\t\t            show: true,\r\n\t\t\t            image_url: 'https://file.lantingshucheng.com/myapp/err_tips/network_err.png',\r\n\t\t\t            text: '努力找不到网络>_<请检查后重试',\r\n\t\t\t            buttonText: '重试',\r\n\t\t\t            click: 'getUserInfo'\r\n\t\t\t          }\r\n\t\t\t      }\r\n\t\t\t    });\r\n\t\t\t  },\r\n\t\t\t  uploadAvatar: function () {\r\n\t\t\t    uni.hideToast();\r\n\t\t\t    uni.showToast({ title: '上传中', icon: 'loading', duration: 300 })\r\n\t\t\t    initQiniu();\r\n\t\t\t    var self = this;\r\n\t\t\t\tthis.is_click_img =false;\r\n\t\t\t    uni.chooseImage({\r\n\t\t\t      sourceType: ['camera', 'album'],\r\n\t\t\t      sizeType: ['compressed'], //压缩图片\r\n\t\t\t      count: 1, //最多一张\r\n\t\t\t      success: function (res) {\r\n\t\t\t        //七牛上传文件\r\n\t\t\t        var filePath = res.tempFilePaths[0];\r\n\t\t\t        // self.setData({avatar: res.tempFilePaths[0]});\r\n\t\t\t        qiniuUploader.upload(filePath, (res) => {\r\n\t\t\t          console.log(res);\r\n\t\t\t          //更新图片地址\r\n\t\t\t\t\t  this.avatar =res.imageURL\r\n\t\t\t\t\t  this.is_click_img = true\r\n\t\t\t\t\t  \t\t\t          uni.hideToast();\r\n\t\t\t          uni.showToast({ title: '上传成功', icon: 'success', duration: 2000 });\r\n\t\t\t          setTimeout(function () { uni.hideToast() }, 2000)\r\n\t\t\t        }, (error) => {\r\n\t\t\t          console.error('error: ' + JSON.stringify(error));\r\n\t\t\t        }, uni.getStorageSync('id').openid);\r\n\t\t\t      },\r\n\t\t\t      fail: function (err) {\r\n\t\t\t        console.log(\"选择图片失败, \" + err);\r\n\t\t\t      }\r\n\t\t\t    })\r\n\t\t\t  },\r\n\t\t\t  // 生日输入框的输入事件\r\n\t\t\t  userInput: function(e){\r\n\t\t\t    var self = this;\r\n\t\t\t    var type = e.target.type;\r\n\t\t\t    switch(type){\r\n\t\t\t      case 'nickname':\r\n\t\t\t\t  this.nickName  = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'email':\r\n\t\t\t\t  this.email = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'realm':\r\n\t\t\t\t  this.realm = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'age':\r\n\t\t\t\t  this.age = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'birthday':\r\n\t\t\t\t  this.birthday = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'address':\r\n\t\t\t\t  this.address = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t      case 'signature':\r\n\t\t\t\t  this.signature = e.detail.value\r\n\t\t\t        break;\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"stylus\">\n.userInfo-container{\n\tbackground-color: #efeff4;\n\tpadding-top: 80rpx;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n\tfont-size: 30rpx;\n\tbox-sizing: border-box;\n}\n.err-tips{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 70rpx;\n\tline-height: 70rpx;\n\tbackground-color: #e64340;\n\tcolor: #fff;\n}\n.section{\n\tbackground-color: #fff;\n\twidth: 100%;\n\ttext-align: left;\n\theight: 80rpx;\n\tmargin-bottom: 0;\n}\n.section .section-title{\n\tdisplay: inline-block;\n\twidth: 30%;\n\theight: 100%;\n\tline-height: 100%;\n\tfont-weight: bold;\n\tposition: relative;\n\ttop: 4rpx;\n\tpadding-left: 20rpx;\n\tbox-sizing: border-box;\n}\n.section > input, .section > picker{\n\tdisplay: inline-block;\n\twidth: 70%;\n\theight: 100%;\n\tline-height: 100%;\n\tvertical-align: middle;\n}\n.picker{\n\theight: 80rpx;\n\tline-height: 80rpx;\n}\n.headImg{\n\twidth: 150rpx;\n\theight: 150rpx;\n\tborder-radius: 75rpx;\n\tmargin-bottom: 10rpx;\n}\n.split-text{\n\ttext-align: left;\n\tbackground: transparent;\n\theight: 80rpx;\n\tline-height: 80rpx;\n\tpadding-left: 20rpx;\n\tfont-size: 26rpx;\n\tcolor: #888888;\n}\n.btn-area > button{\n\tmargin-top: 40rpx;\n}\n.display{\n\tdisplay: inline-block;\n\twidth: 70%;\n\theight: 100%;\n\tline-height: 80rpx;\n\tvertical-align: middle;\n}\n</style>\n","import mod from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userinfo.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userinfo.vue?vue&type=style&index=0&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685671671971\n      var cssReload = require(\"D:/HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}